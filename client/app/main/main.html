<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
  <p>
    Server sends to each browser a region of the image. Each client process the region to greyscale and returns a pixel
    array.
  </p>

  <div class="row">
    <div class="col-md-3 col-sm-3 col-xs-6">
      <p>
        <canvas id="snapshot" width="100" height="100" ng-init="loadSnapshot()">
        </canvas>
      </p>
      <p class="help-block"><strong>{{ pixelsReceived | number:0}}</strong> Pixels</p>
    </div>
    <div class="col-md-3 col-sm-3 col-xs-6">
      <p>
        <canvas id="preview" width="100" height="100">
        </canvas>
      </p>
      <p class="help-block"><strong>{{ pixelsExternalProcessed | number:0}}</strong> Pixels</p>
    </div>
    <form role="form" class="form-horizontal col-md-6 col-sm-6  col-xs-12">
      <div class="input-group">
        <span class="input-group-addon" id="input-nodes">Nodes</span>
        <input type="text" class="form-control" ng-readonly="true" ng-model="totalNodes.length"
               aria-describedby="input-nodes">
      </div>
      <div class="input-group">
        <span class="input-group-addon" id="input-workers">Web Workers</span>
        <input type="text" class="form-control" ng-model="maxWorkers" aria-describedby="input-workers">
      </div>
      <div>
        <button type="button" id="toggleButton"
                class="btn btn-success btn-block animate-hide" ng-click="toggleNetwork()">Join
        </button>
      </div>
    </form>
  </div>

  <p class="help-block">
    {{ imageName }} - <strong>Nodes <span class="badge">{{ totalNodes.length }}</span>
    <pre>{{ lastError}}</pre>
  </p>

</div>
